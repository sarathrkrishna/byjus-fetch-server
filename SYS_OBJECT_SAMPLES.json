{"post":{"id":3642567}}

[
  {
    "doubtData": {
      "posts": [
        {
          "id": 3642567,
          "description": "<img alt=\"\" src=\"https://df0b18phdhzpx.cloudfront.net/ckeditor_assets/pictures/1562708/original_20220305_131251.jpg\" style=\"width: 3776px; height: 1496px;\" /><strong>please explain the amswer of this example with the help of a diagram. I am unable to imagine this!</strong>",
          "cohort_id": 16,
          "subject_id": 22209,
          "chapter_id": 22238,
          "subject_name": "Physics",
          "grade": "Standard X",
          "status": "OPEN",
          "type": "Post",
          "doubt_rewards": [],
          "total_points": 30,
          "was_escalated": false,
          "current_state": "Assigned",
          "created_at": 1646466263,
          "can_be_assigned": true,
          "updated_at": 1646466264,
          "subject_expert_name": "Sarath Ar",
          "can_answer_till": 1646473464
        }
      ],
      "meta": { "current_page": 1, "total_pages": 1, "total_count": 1 }
    },
    "doubtCheckDetails": {
      "username": "arsarath177@gmail.com",
      "doubt": { "post": { "id": 3642567 } },
      "fetchTime": 1646466264398
    }
  }
]

already fetched

[
  {
    "doubtData": {
      "posts": [
        {
          "id": 3642567,
          "description": "<img alt=\"\" src=\"https://df0b18phdhzpx.cloudfront.net/ckeditor_assets/pictures/1562708/original_20220305_131251.jpg\" style=\"width: 3776px; height: 1496px;\" /><strong>please explain the amswer of this example with the help of a diagram. I am unable to imagine this!</strong>",
          "cohort_id": 16,
          "subject_id": 22209,
          "chapter_id": 22238,
          "subject_name": "Physics",
          "grade": "Standard X",
          "status": "OPEN",
          "type": "Post",
          "doubt_rewards": [],
          "total_points": 30,
          "was_escalated": false,
          "current_state": "Assigned",
          "created_at": 1646466263,
          "can_be_assigned": true,
          "updated_at": 1646466264,
          "subject_expert_name": "Sarath Ar",
          "can_answer_till": 1646473464
        }
      ],
      "meta": { "current_page": 1, "total_pages": 1, "total_count": 1 }
    },
    "doubtCheckDetails": {
      "username": "arsarath177@gmail.com",
      "alreadyFetched": true,
      "fetchTime": 1646466948292
    }
  }
]


syncLocalAccountsToDb(accIds: ObjectId[] = [], exempt: ObjectId[] = []) {
    let accounts: Account[] = [];

    if (accIds.length) {
      accounts = TaskService.accounts.filter(
        (acc) => accIds.findIndex((id) => id === acc._id) !== -1
      );
    } else {
      // if acc not provided, then all local accounts are selected
      accounts = TaskService.accounts;
    }

    const whiteListedAccounts = accounts.filter(
      (acc) => !exempt.find((e) => e === acc._id)
    );
    return this.accountService.updateAccounts(whiteListedAccounts);
  }

  // webhook body

{
  "update_id": 172697093,
  "message": {
    "message_id": 54,
    "from": {
      "id": 922826146,
      "is_bot": false,
      "first_name": "Sarath",
      "last_name": "Ar",
      "username": "sark98",
      "language_code": "en"
    },
    "chat": {
      "id": 922826146,
      "first_name": "Sarath",
      "last_name": "Ar",
      "username": "sark98",
      "type": "private"
    },
    "date": 1647250217,
    "text": "/hello",
    "entities": [{ "offset": 0, "length": 6, "type": "bot_command" }]
  }
}

/// post object created after fetch
// questionDatas
[
  {
    "postData": [
      {
        "id": 3714273,
        "description": "Sir please help me solve the problem<img alt=\"\" src=\"https://df0b18phdhzpx.cloudfront.net/ckeditor_assets/pictures/1621028/original_1649838227472189717529.jpg\" style=\"width: 3264px; height: 2448px;\" />",
        "subject_name": "Mathematics",
        "grade": "Standard IX",
        "total_points": 30,
        "created_at": 1649838288000,
        "updated_at": 1649838288000,
        "subject_expert_name": "Sarath Ar",
        "can_answer_till": 1649845488000
      }
    ],
    "accountId": "62526da9beab921caa85df55"
  }
]